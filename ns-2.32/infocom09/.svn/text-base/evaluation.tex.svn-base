\section{Performance Evaluation}
\label{sec::evaluation}
We evaluate the effectiveness of IDRM in three different scenarios. 
The first scenario is a stationary grid topology, and
the second one is a 2-domain topology with simple group mobility.
The propose of these two simple scenarios is to demostrate the
basic characterisics of IDRM.
The last scenario is random topology with random waypoint mobility,
which can help us to understand the average performance of IDRM
in complex scenario settings.

\subsection{Simulation Setup}
We modifiy ns-2 \cite{ns2} 
in the way that it can support mutiple wireless interfaces 
in a wireless node. 
For each set of simulation,
the communication range is 250 meters;
we average our results from 5 simulations, each last
for 2000 seconds simulation time.

We assume that everything nodes in a domain, say domain $A$,
use $Channel_{A}$ to communcate.
Non-gateway nodes have only one wireless interface. 
Gateway nodes have two wireless interface,
one for domain specific ad hoc routing protocol and the other for IDRM.
All IDRM traffic uses $Channel_{IDRM}$ to communcate. 
We also assume that channels are independent of each other, i.e., 
nodes in domain $A$ cannot overhear traffic from domain $B$ and
non-gateway nodes cannot overhear IDRM traffic.
We believe that our assumptions are practical because 
1) different MANETs may use different technologies and coding, and
2) gateways are ususally stragetically decided before deployed so that they can
afford multiple interfaces. 

\input{case1grid}
\input{case2group}
\input{case3random}



%\subsubsection{}
%\begin{itemize}
%\item Correctness of IDRM:\\
%We validate the performance of IDRM. We use two grid network topologies for
%the verification: one is IDRM based heterogeneous MANETs and the other one is
%pure Ad-Hoc Routing Protocol based homogeneous MANET. Both topologies are
%identity excepting that IDRM based topology is composed of heterogeneous
%multiple domains. If the performance of IDRM with multiple domain topology is
%comparable to the performance of the pure routing protocol with a signle
%domain one, we assume that IDRM performs well. We measure UDP throughput for
%the comparison.\\ \emph{Expected Results}: IDRM shows the similar UDP
%throughout to DSDV/AODV.

%\item Functionality verification:\\
%We verify the functionalities of IDRM. We examine the success of packet
%delivery across domains. We use a domain partition and convergence scenario
%with simple group mobility. We have two domains named A and B, and two UDP
%traffics U1, U2 which are within domain A and across domains between A and B
%respectively. By the predefined group mobility, domain A is partitioned into
%two sub-domains, A1 and A2 and they are merged into domain A. Packets of U2
%are delivered across A and B and under domain partition, packets of U1 are
%delivered through A1, B, and A2. We evaluate UDP throughput of two traffics as
%nodes move.\\ \emph{Expected Results}: IDRM performs well under domain
%partition/convergence and overlap(partial overlap, full overlap)
%\end{itemize}

\subsection{Performance Metrics}
\emph{For each scenario, we will study the following metrics. 
So the following will be merged into the above 3 scenarios}\\
%\emph{After verifying the correctness and functionality of IDRM, we evaluate
%the performance of IDRM on large scale network topology.}\\

\subsubsection{Network Reachability}
We measure the network reachablity with different control parameters.
We quantify the network reachability as the number of nodes that each node can reach at a moment.
We assume the more number of reachable nodes means the better network reschability.
We control the number of gateways and the interval of control packets.
\begin{itemize}
\item x-axis: time, or different parameters
\item y-axis: Average number of reachable node for each node
\item \emph{Expected Results}: Each gateway is able to logically reach to all of nods physically reachable through other gateways.\\
\end{itemize}

\subsubsection{Route Convergence}
We measure the delay of route update messages over the entire network.
The delay starts when a route update message is generated by a node and ends when every gateway reachable to the node receives the update message.
We control the interval of control messages, communication range, and mobility for the evaluation.

\begin{itemize}
\item x-axis: Beacon interval time, different node speed and communication range
\item y-asix: Average Route Convergence time\\
\end{itemize}

\subsubsection{Route Consistence}
We define a consistent route as a route entry that every gateway reachable to the entry has the same status of the entry.
Because of network dynamics, it is possible that some of gateways have a valid value to the invalid entries.
We control the interval of control messages, communication range, and mobility for the evaluation.
As we have the global information in ns2, [Difficult to do] present the % of route entry in IDRM route tables which contains inconsistence values.

\subsubsection{UDP Throughput and Delay}
We randomly generate disjoint source and destination pairs of UDP traffics and measure the throughput,
and end-to-end delay of the traffics under network dynamics.

\begin{itemize}
\item x-axis: time, series: different parameters
\item y-axis: UDP throughput, end-to-end delay\\
\end{itemize}

\subsubsection{Overhead}
We define the overhead of IDRM as the number of/ and the amount of IDRM control packets.
We plot the percentage of each type of packets: data, IDRM packets.\\
\begin{itemize}
\item \emph{Expected Results}: As tested with a small topology(two domains, 6 nodes), the overhead of IDRM was less than 2\% and rest of packets were data.
\end{itemize}
